window.__require=function e(t,n,o){function a(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var p=n[r]={exports:{}};t[r][0].call(p.exports,function(e){return a(t[r][1][e]||e)},p,p.exports,e,t,n,o)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<o.length;r++)a(o[r]);return a}({Banner111005001:[function(e,t,n){"use strict";cc._RF.push(t,"1a837zDyN9NBqgDZ5NzIzU9","Banner111005001");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./GameEventName111005001"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeBanner=null,t}return a(t,e),t.prototype.showNodeBanner=function(){this.p_nodeBanner.active=!0},t.prototype.hideNodeBanner=function(){this.p_nodeBanner.active=!1},t.prototype.onLoad=function(){e.prototype.onLoad.call(this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_STOP_WIN_NUM,this.showNodeBanner,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_PLAY_WIN_NUM,this.hideNodeBanner,this)},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_STOP_WIN_NUM,this.showNodeBanner,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_PLAY_WIN_NUM,this.hideNodeBanner,this)},i([l(cc.Node)],t.prototype,"p_nodeBanner",void 0),i([c],t)}(slot.SlotBanner);n.default=p,cc._RF.pop()},{"./GameEventName111005001":"GameEventName111005001"}],BonusGame111005001:[function(e,t,n){"use strict";cc._RF.push(t,"b43dfAaZ+dLpaKBQ+Afd607","BonusGame111005001");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../main/CommonNumAtlas111005001"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.freeStartBack=null,t.freeStartFront=null,t.lbFreeRotateTime=null,t.spFreeRotateTips=null,t.spAllAwardMultipleTips=null,t.lbCountDown=null,t.nodeStartBtn=null,t.starBtnLight=null,t.countDownSec=0,t.scoreInfoNode=null,t.cb=null,t.sorce_num=null,t.clickBtnStartTimeoutNum=0,t}return a(t,e),t.prototype.onOpen=function(e){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.sorce_num=n[0][0],this.cb=n[0][1],cc.log("BonusGame111005001 onOpen",this.sorce_num.sumTimes),slot.SoundMger.instance.playEffect("Free_Into_Sound"),this.freeStartFront.zIndex=0,this.lbFreeRotateTime.node.zIndex=1,this.spFreeRotateTips.zIndex=1,this.spAllAwardMultipleTips.zIndex=1,this.lbCountDown.node.zIndex=1,this.nodeStartBtn.zIndex=1,this.freeStartBack.getComponent(sp.Skeleton).setAnimation(0,"fadein_back",!1),this.freeStartFront.getComponent(sp.Skeleton).setAnimation(0,"fadein_front",!1),this.freeStartBack.getComponent(sp.Skeleton).setCompleteListener(function(){t.freeStartBack.getComponent(sp.Skeleton).setAnimation(0,"fadein_back_loop",!0)}),this.freeStartFront.getComponent(sp.Skeleton).setCompleteListener(function(){t.freeStartFront.getComponent(sp.Skeleton).setAnimation(0,"fadein_front_loop",!0)}),this.nodeStartBtn.getComponent(cc.Button).enabled=!0,this.isStartCountDown=!1,this.lbFreeRotateTime.string=""+this.sorce_num.sumTimes,this.countDownSec=0,this.lbCountDown.string=""+this.countDownSec;var a=1.5;this.spFreeRotateTips.opacity=0,this.spFreeRotateTips.scale=6,cc.tween(this.spFreeRotateTips).to(.8*a,{scale:.8,opacity:255}).to(.2*a,{scale:1}).start(),this.lbCountDown.node.opacity=0,cc.tween(this.lbCountDown.node).to(a,{opacity:255}).start(),this.lbFreeRotateTime.node.scale=0,cc.tween(this.lbFreeRotateTime.node).delay(.6*a).to(.3*a,{scale:1.1}).to(.1*a,{scale:1}).start(),this.spAllAwardMultipleTips.opacity=0,cc.tween(this.spAllAwardMultipleTips).delay(.75*a).to(.25*a,{opacity:255}).start(),this.nodeStartBtn.getComponent(cc.Button).enabled=!1,this.nodeStartBtn.opacity=0,setTimeout(function(){t.isStartCountDown=!0},1e3*a),this.scoreInfoNode=slot.MainView.instance.node.getChildByName("scorePrefab"),this.scoreInfoNode.parent=this.node,this.scoreInfoNode&&(this.scoreInfoNode.y=-650)},t.prototype.onLoad=function(){this.nodeStartBtn.on(cc.Node.EventType.MOUSE_ENTER,this.playStartBtnEffect,this),this.nodeStartBtn.on(cc.Node.EventType.MOUSE_LEAVE,this.stopStartBtnEffect,this)},t.prototype.start=function(){},t.prototype.update=function(){this.isStartCountDown&&(this.countDownSec<=100?(this.lbCountDown.string=""+this.countDownSec,this.countDownSec++):(this.isStartCountDown=!1,this._showStartBtn()))},t.prototype._showStartBtn=function(){var e=this;this.nodeStartBtn.getComponent(cc.Button).enabled=!0,cc.tween(this.lbCountDown.node).to(.2,{opacity:0}).start(),cc.tween(this.nodeStartBtn).to(.2,{opacity:255}).start(),this.clickBtnStartTimeoutNum=setTimeout(function(){e.onClickBtnStart(!1)},1e4)},t.prototype.onClickBtnStart=function(e){var t=this;void 0===e&&(e=!0),this.nodeStartBtn.getComponent(cc.Button).enabled=!1,e&&(clearTimeout(this.clickBtnStartTimeoutNum),slot.SoundMger.instance.playEffect("Free_Game_Button"),this.stopStartBtnEffect(),this.playStartBtnEffect()),setTimeout(function(){slot.SoundMger.instance.playEffect("Free_Game_Start"),t.freeStartFront.zIndex=100,t.freeStartFront.getComponent(sp.Skeleton).setAnimation(0,"fadeout",!1)},300),setTimeout(function(){t.scoreInfoNode.parent=slot.MainView.instance.node,t.cb&&t.cb.run(),game.UIManager.getInstance().close(t)},1e3)},t.prototype.playStartBtnEffect=function(){this.starBtnLight.opacity=255,this.starBtnLight.scale=1,cc.tween(this.starBtnLight).to(.8,{opacity:0,scale:1.2}).delay(.2).to(0,{opacity:255,scale:1}).union().repeatForever().start()},t.prototype.stopStartBtnEffect=function(){this.starBtnLight.opacity=0,this.starBtnLight.stopAllActions()},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),this.nodeStartBtn.off(cc.Node.EventType.MOUSE_ENTER,this.playStartBtnEffect,this),this.nodeStartBtn.off(cc.Node.EventType.MOUSE_LEAVE,this.stopStartBtnEffect,this)},i([l(cc.Node)],t.prototype,"freeStartBack",void 0),i([l(cc.Node)],t.prototype,"freeStartFront",void 0),i([l(r.default)],t.prototype,"lbFreeRotateTime",void 0),i([l(cc.Node)],t.prototype,"spFreeRotateTips",void 0),i([l(cc.Node)],t.prototype,"spAllAwardMultipleTips",void 0),i([l(r.default)],t.prototype,"lbCountDown",void 0),i([l(cc.Node)],t.prototype,"nodeStartBtn",void 0),i([l(cc.Node)],t.prototype,"starBtnLight",void 0),i([c],t)}(slot.AbstractBonusGameView);n.default=p,cc._RF.pop()},{"../main/CommonNumAtlas111005001":"CommonNumAtlas111005001"}],CommonNumAtlas111005001:[function(e,t,n){"use strict";cc._RF.push(t,"4b4eeau0QVJ0qVL2hHp+KpY","CommonNumAtlas111005001");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},i([s],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],FreeGameResult:[function(e,t,n){"use strict";cc._RF.push(t,"d6e6cadh2pDRrrh49UHplWd","FreeGameResult");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../main/CommonNumAtlas111005001"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.freeEndBack=null,t.freeEndFront=null,t.nodeNum=null,t.lbFreeRotateTime=null,t.lbTotalWinMoney=null,t.btnDraw=null,t.starBtnLight=null,t.touchLayer=null,t.m_isUpdate=!1,t.callBack=null,t.completeHandler=null,t.m_sumSpinCoin=0,t.m_sumTimes=0,t.isPlayStartSound=!0,t.isPlayEndSound=!0,t.scoreInfoNode=null,t.m_money=0,t.m_speed=3,t.clickBtnDrawTimeoutNum=0,t}return a(t,e),t.prototype.onOpen=function(e){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];cc.log("FreeGameResult",n),this.callBack=n[0][0],this.m_sumSpinCoin=Number(n[0][1]),this.m_sumTimes=n[0][2],this.completeHandler=n[0][3],this.freeEndFront.zIndex=0,this.nodeNum.zIndex=1,this.lbTotalWinMoney.zIndex=1,this.btnDraw.node.zIndex=1,this.freeEndBack.getComponent(sp.Skeleton).setAnimation(0,"fadein_back",!1),this.freeEndFront.getComponent(sp.Skeleton).setAnimation(0,"fadein_front",!1),this.freeEndBack.getComponent(sp.Skeleton).setCompleteListener(function(){t.freeEndBack.getComponent(sp.Skeleton).setAnimation(0,"fadein_back_loop",!0)}),this.freeEndFront.getComponent(sp.Skeleton).setCompleteListener(function(){t.freeEndFront.getComponent(sp.Skeleton).setAnimation(0,"fadein_front2",!0)}),this.btnDraw.enabled=!0,this.m_isUpdate=!1,this.isPlayStartSound=!0,this.isPlayEndSound=!0,this.lbFreeRotateTime.getComponent(r.default).string=this.m_sumTimes.toString(),this.btnDraw.enabled=!1,this.btnDraw.node.opacity=0,this.nodeNum.opacity=0,this.nodeNum.scale=6,cc.tween(this.nodeNum).to(1.2,{scale:.8,opacity:255}).to(.3,{scale:1}).start(),this.playTotalWinMoney(),this.scoreInfoNode=slot.MainView.instance.node.getChildByName("scorePrefab"),this.scoreInfoNode.setParent(this.node),this.scoreInfoNode&&(this.scoreInfoNode.y=-650),slot.SoundMger.instance.stopMusic("FreeGame_Back_Music")},t.prototype.onLoad=function(){this.btnDraw.node.on(cc.Node.EventType.MOUSE_ENTER,this.playStartBtnEffect,this),this.btnDraw.node.on(cc.Node.EventType.MOUSE_LEAVE,this.stopStartBtnEffect,this)},t.prototype.start=function(){},t.prototype.playTotalWinMoney=function(){var e=this;this.setWinMoney(0),this.m_money=0,this.m_speed=Math.ceil(this.m_sumSpinCoin/300),this.m_isUpdate=!0,this.lbTotalWinMoney.getComponent(r.default).offScale=0,this.lbTotalWinMoney.scale=0,setTimeout(function(){e.lbTotalWinMoney.getComponent(r.default).offScale=1,e.lbTotalWinMoney.scale=0,cc.tween(e.lbTotalWinMoney).to(.5,{scale:1}).start()},500),setTimeout(function(){e.touchLayer.active=!0},1e3)},t.prototype.setWinMoney=function(e){this.lbTotalWinMoney.getComponent(r.default).string=slot.SlotUtils.formatNumber(e)},t.prototype.update=function(){this.m_isUpdate&&(this.m_money<this.m_sumSpinCoin?(this.m_money+=this.m_speed,this.setWinMoney(this.m_money),this.isPlayStartSound&&(slot.SoundMger.instance.playEffect("Free_Game_Settlement",!0),this.isPlayStartSound=!1)):this.m_money>=this.m_sumSpinCoin&&(this.m_isUpdate=!1,this.m_money+=this.m_speed,this.setWinMoney(this.m_sumSpinCoin),cc.tween(this.lbTotalWinMoney).to(.25,{scale:1.3}).to(.25,{scale:1}).start(),this.showBtnDraw(),this.isPlayEndSound&&(slot.SoundMger.instance.stopEffect("Free_Game_Settlement"),slot.SoundMger.instance.playEffect("Free_Game_end"),this.isPlayEndSound=!1)))},t.prototype.showBtnDraw=function(){var e=this;this.touchLayer.active=!1,this.btnDraw.enabled=!0,cc.tween(this.btnDraw.node).to(.2,{opacity:255}).start(),setTimeout(function(){cc.tween(e.btnDraw.node).to(.1,{scale:1}).start(),e.clickBtnDrawTimeoutNum=setTimeout(function(){e.onClickBtnDraw(!1)},1e4)},200)},t.prototype.onClickBtnDraw=function(e){var t=this;void 0===e&&(e=!0),this.btnDraw.enabled=!1,e&&(clearTimeout(this.clickBtnDrawTimeoutNum),slot.SoundMger.instance.playEffect("Free_Game_Button"),this.stopStartBtnEffect(),this.playStartBtnEffect()),setTimeout(function(){t.freeEndFront.zIndex=100,t.freeEndFront.getComponent(sp.Skeleton).setAnimation(0,"fadeout",!1)},300),setTimeout(function(){t.onCloseDialog()},1e3)},t.prototype.onClickTouchLayer=function(){this.m_money=this.m_sumSpinCoin},t.prototype.playStartBtnEffect=function(){this.starBtnLight.opacity=255,this.starBtnLight.scale=1,cc.tween(this.starBtnLight).to(.8,{opacity:0,scale:1.2}).delay(.2).to(0,{opacity:255,scale:1}).union().repeatForever().start()},t.prototype.stopStartBtnEffect=function(){this.starBtnLight.opacity=0,this.starBtnLight.stopAllActions()},t.prototype.onCloseDialog=function(){slot.SoundMger.instance.playMusic("Game_Back_Music",!0),this.callBack&&this.callBack.run(),this.callBack=null,this.completeHandler&&this.completeHandler.runWith(!0),this.completeHandler=null,game.UIManager.getInstance().close(this),this.scoreInfoNode.parent=slot.MainView.instance.node,this.scoreInfoNode=slot.MainView.instance.node.getChildByName("scorePrefab"),this.scoreInfoNode.y=-409;var e=slot.MainView.instance.node.getChildByName("gameControPrefab");e.opacity=255,e.y=-530,slot.MainView.instance.node.getChildByName("menu").active=!0},t.prototype.onDestroy=function(){this.callBack&&this.callBack.run(),this.callBack=null,this.btnDraw.node.off(cc.Node.EventType.MOUSE_ENTER,this.playStartBtnEffect,this),this.btnDraw.node.off(cc.Node.EventType.MOUSE_LEAVE,this.stopStartBtnEffect,this)},i([l(cc.Node)],t.prototype,"freeEndBack",void 0),i([l(cc.Node)],t.prototype,"freeEndFront",void 0),i([l(cc.Node)],t.prototype,"nodeNum",void 0),i([l(cc.Node)],t.prototype,"lbFreeRotateTime",void 0),i([l(cc.Node)],t.prototype,"lbTotalWinMoney",void 0),i([l(cc.Button)],t.prototype,"btnDraw",void 0),i([l(cc.Node)],t.prototype,"starBtnLight",void 0),i([l(cc.Node)],t.prototype,"touchLayer",void 0),i([c],t)}(game.UIView);n.default=p,cc._RF.pop()},{"../main/CommonNumAtlas111005001":"CommonNumAtlas111005001"}],GameBg111005001:[function(e,t,n){"use strict";cc._RF.push(t,"597fcE2jUVAnZlW9rkQGMfA","GameBg111005001");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onLoad=function(){},t.prototype.onDestroy=function(){},i([s],t)}(slot.BaseView));n.default=c,cc._RF.pop()},{}],GameEventName111005001:[function(e,t,n){"use strict";var o,a;cc._RF.push(t,"ca65fGvksNAQrdlFI+FdLPW","GameEventName111005001"),Object.defineProperty(n,"__esModule",{value:!0}),n.UICF=n.UIID=n.EventName=void 0,function(e){e.MULTIPLE_JUMP="MULTIPLE_JUMP",e.MULTIPLE_RECOVER="MULTIPLE_RECOVER",e.EVENT_PLAY_WIN_NUM="EVENT_PLAY_WIN_NUM",e.EVENT_STOP_WIN_NUM="EVENT_STOP_WIN_NUM",e.FREE_GAME_START="FREE_GAME_START",e.FREE_GAME_START_ANI="FREE_GAME_START_ANI",e.FREE_GAME_OVER="FREE_GAME_OVER",e.EVENT_FREE_GAME_NUM="EVENT_FREE_GAME_NUM",e.FREE_GAME_OVER_UPDATE_BANNER_WINNUM="FREE_GAME_OVER_UPDATE_BANNER_WINNUM",e.FREE_SET_DATA="FREE_SET_DATA"}(n.EventName||(n.EventName={})),function(e){e[e.BONUS_GAME_POPUP=1e4]="BONUS_GAME_POPUP",e[e.FREE_GAME_RESULT=10001]="FREE_GAME_RESULT"}(a=n.UIID||(n.UIID={})),n.UICF=((o={})[a.BONUS_GAME_POPUP]={bundleName:"game_111005001",path:"prefabs/bonusGame/bonusGame",preventKeyboard:!0,preventTouch:!0,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},o[a.FREE_GAME_RESULT]={bundleName:"game_111005001",path:"prefabs/freeGameResult/freeGameResult",preventKeyboard:!0,preventTouch:!0,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},o),cc._RF.pop()},{}],GameLayer111005001:[function(e,t,n){"use strict";cc._RF.push(t,"03dfd0k2WFPcJVsFSNgFaM+","GameLayer111005001");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../bonusGame/BonusGame111005001"),s=e("../freeGameResult/FreeGameResult"),c=e("../GameEventName111005001"),l=e("../JTScattask111005001"),p=e("../main/CommonNumAtlas111005001"),u=e("./scrollerSkins/JTChildManager111005001"),m=e("./scrollerSkins/JTLayerManager111005001"),h=e("./scrollerSkins/JTLogicFactroy111005001"),d=cc._decorator,_=d.ccclass,f=d.property,E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.goldFramePrefab=null,t.ordinaryBg=null,t.freeBg=null,t.netBgAni2=null,t.spLbFreeRemainTime=null,t.lbFreeRemainTime=null,t.spLbFreeLastTime=null,t.nodeFreeTriggerFree=null,t.aniClickImmediatelyStop=null,t.nodeClickStop=null,t.rollerTouchLayer=null,t.isfreeAccelerate=!1,t.isScatterWait=!1,t.scatterTask=null,t.wildTask=null,t.scroller=null,t.m_isRunning=!1,t.orgDelayDropTime=.05,t.eliminateNum=0,t.multipleJumpNum=0,t._spinAniViews=[],t.isLoginSync=!1,t.bounsGamePrefab=null,t.bounsGamePrefabNode=null,t.freeGameResultPrefab=null,t.freeGameResultNode=null,t}var n;return a(t,e),n=t,t.prototype.onLoad=function(){slot.SlotConfigManager.instance.registerJPTypes(3),game.EventManager.getInstance().addEventListener(c.EventName.FREE_GAME_START,this.onFreeGameStart,this),game.EventManager.getInstance().addEventListener(c.EventName.FREE_GAME_OVER,this.FreeGameOver,this),game.EventManager.getInstance().addEventListener("EVENT_CLOSE_LOADING_VIEW",this.OnEnterFreeGame,this),game.EventManager.getInstance().addEventListener(c.EventName.EVENT_FREE_GAME_NUM,this._updateFreeGameNum,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateLoginWin,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.RESTORERESP,this._onRestoreResp,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_NEW_ELEMDROP_DROPEND,this.elemDropEnd,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_PLAYER_CLICKED_SLOTMACHINE,this.clickImmediatelyStop,this),this.nodeClickStop.on(cc.Node.EventType.TOUCH_START,this.clickStopStart,this),this.nodeClickStop._touchListener.setSwallowTouches(!1),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_SHOW,this.bigWinTextShow,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_HIDE,this.bigWinTextHide,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_LAST_HIDE,this.bigWinTextLastHide,this),e.prototype.onLoad.call(this),console.log("game111005001 onload"),window.GameLayer111005001=this,n.t=this.goldFramePrefab,this.orgDelayDropTime=slot.EliminateDisappearUtils.disappreaDelayTime},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(c.EventName.FREE_GAME_START,this.onFreeGameStart,this),game.EventManager.getInstance().removeEventListener(c.EventName.FREE_GAME_OVER,this.FreeGameOver,this),game.EventManager.getInstance().removeEventListener("EVENT_CLOSE_LOADING_VIEW",this.OnEnterFreeGame,this),game.EventManager.getInstance().removeEventListener(c.EventName.EVENT_FREE_GAME_NUM,this._updateFreeGameNum,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateLoginWin,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.RESTORERESP,this._onRestoreResp,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_NEW_ELEMDROP_DROPEND,this.elemDropEnd,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_PLAYER_CLICKED_SLOTMACHINE,this.clickImmediatelyStop,this),this.nodeClickStop.off(cc.Node.EventType.TOUCH_START,this.clickStopStart,this),e.prototype.onLoad.call(this),this.dispose()},t.prototype.start=function(){},t.prototype.onInit=function(){slot.SpinManager.instance.isFullLineAvailable=!1,this._initSlotMachineView(),console.log("oninit"),slot.GData.curLanguage==game.LanguageType.MY&&(this.spLbFreeLastTime.scale=.9),slot.GData.curLanguage==game.LanguageType.ZH&&(this.spLbFreeRemainTime.scale=1,this.spLbFreeRemainTime.x=-87,this.lbFreeRemainTime.node.x=270),slot.SpinManager.customResultCallBack=function(){return console.log("onInit \u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7ed3\u679c\uff08\u9002\u7528\u4e8e\u6d88\u9664\u7c7b)----------------:",slot.SpinManager.instance.customUpdateData),slot.SpinManager.instance.customUpdateData.game_10017.data.resultList}},t.prototype.onInitScroller=function(e){var t=this,n=this.scroller=e.scroller,o=slot.SlotConfigManager.instance.DataGame.getData(slot.SlotConfigManager.instance.gameID);n.setupFactory(new m.default,new u.default,new h.default);var a=n.options(slot.JTEliminatePipeline,slot.JTScrollerGroup.USE_CONVERT_MROE_LIST,o.column,e.scrollingComplete);a.childOption(slot.JTCreateScrolling,slot.JTOptionType.OPTION_CREATE),a.childOption(slot.JTBeginScrolling,slot.JTOptionType.OPTION_BEGIN_RUNNING,e.beginScrolling),a.childOption(slot.JTRunScrolling,slot.JTOptionType.OPTION_RUNNING,e.onSpinPreStop),a.childOption(slot.JTOverScrollEliminate,slot.JTOptionType.OPTION_OVER_RUNNING,e.scrollingProgress),n.setupDefaultItemList(this.getSourceList,slot.SlotConfigManager.instance.DataElement.getKeys(),!1),slot.JTDefaultItemRender.setPlayCoinIndex(1,7),slot.EliminateEffectUtils.elePlayAni=slot.Handler.create(this,this.playPrizeAni,[],!1),slot.EliminateEffectUtils.isLeftRightFallDown=!0,this.scatterTask=new l.default,this.scatterTask.onScatterComplte=function(e){4==e.index&&t.setScattaBgLight(4,2)},this.scatterTask.config(10,2,"10-50-3",0,1e3,"animations/cardAni/runfast",!0,null,function(e){t.m_isRunning=!0,cc.log("s.index==================>",e.index),t.setScattaBgLight(e.index-1,1),slot.SoundMger.instance.playEffect("Reel_Quick",!1),e.skinLoader.getChildByName("Animation").getComponent(cc.Sprite).dstBlendFactor=cc.macro.BlendFactor.ONE,e.skinLoader.y=-320,e.skinLoader.x=e.x+80,e.skinLoader.aniName="animation_fadein",e.skinLoader.scaleX=1,e.skinLoader.scaleY=1},slot.JTScatterTask.ITEM_COUNT_MODE),n.registerTask(slot.JTRuleTaskManager.TYPE_SCATTER,this.scatterTask,new slot.JTTaskContainer)},t.prototype.playPrizeAni=function(e,t,o,a){cc.log("playPrizeAni \u6d88\u9664"),n.resultList?(slot.EliminateEffectUtils.delayDropTime=this.orgDelayDropTime,this.isScatterWait=!1,this.slotMachine.scroller.scrollerGroupMask.getComponent(cc.Mask).enabled=!1,this.eliminateNum=a.index,this.setEliminateNum(),this.showLine(e),this.playGoldAni(e,t,o,a),this.multipleJumpNum++):t.run()},t.prototype.playGoldAni=function(e,t,n,o){slot.SoundMger.instance.playEffect("Disappearwheel"),setTimeout(function(){slot.SoundMger.instance.playEffect("Appearwheel")},800),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_FORCE_UPDATE_ALL_SCORE,o.balance);for(var a=0;a<e.length;a++)e[a].addEffectElement();this.changeItemAni(e,t,n,o)},t.prototype.changeItemAni=function(e,t,n,o){var a=this;this.setWild();for(var i=0;i<e.length;i++){var r=e[i];r._showFrameAniView(slot.SlotMachineView.instance,r.index)}cc.tween(this).delay(.6).call(function(){a.elePlayAni(e,t)}).start(),this.eliminateNum,setTimeout(function(){a.hideLine(),game.EventManager.getInstance().raiseEvent(c.EventName.MULTIPLE_JUMP,a.multipleJumpNum);var e=Number(o.curSpinCoin);slot.FreeGameManager.instance.isTreateFromFreeGame?slot.FreeGameManager.instance.isTreateFreeOver?game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,e,!1,!0,null):game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,e,!0,!0,null):game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,e,!1,!0),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM,e,slot.SpinManager.instance.betCost)},500)},t.prototype.elePlayAni=function(e,t){for(var n=this,o=0;o<e.length;o++){var a=e[o];a.skinLoader.url=null,cc.tween(a).to(.12,{scale:1}).start()}var i=this.setScattaBgLight(4,3);0==i?Math.random()>.97&&(i=this.allGridShake()):slot.EliminateEffectUtils.delayDropTime=.35,setTimeout(function(){n.slotMachine.scroller.scrollerGroupMask.getComponent(cc.Mask).enabled=!0,t.run()},i)},t.prototype.setEliminateNum=function(){for(var e=0;e<this.scroller.items.length;e++)for(var t=this.scroller.items[e],n=0;n<t.items.length;n++)t.items[n].onRollEnde(this.eliminateNum);cc.log("setEliminateNum \u6d88\u9664\u6b21\u6570========================>",this.eliminateNum)},t.prototype.setWild=function(){if(n.resultList&&n.resultList[this.eliminateNum]&&n.resultList[this.eliminateNum].changeSpecialElemGrid)for(var e=0,t=n.resultList[this.eliminateNum].changeSpecialElemGrid;e<t.length;e++){var o=t[e].pos-1;this.scroller.getRenderByPos(o).playChangeToWild()}},t.prototype.showLine=function(e){for(var t=[],o=0;o<e.length;o++)t.push([e[o].index,e[o].data]);for(var a=[],i=0,r=slot.SlotMachineView.instance.scroller.items;i<r.length;i++){var s=r[i].renders;a.push.apply(a,s)}if(n.resultList&&n.resultList[this.eliminateNum]&&n.resultList[this.eliminateNum].changeSpecialElemGrid){var c=n.resultList[this.eliminateNum].changeSpecialElemGrid;for(o=0;o<c.length;o++)t.push([c[o].pos-1,a[c[o].pos-1].data])}t.sort(function(e,t){return e[0]-t[0]});var l=0;a.slice(0,25).forEach(function(e){l<t.length&&e.index==t[l][0]&&(e.showLine(t),l++)})},t.prototype.hideLine=function(){for(var e=[],t=0,n=slot.SlotMachineView.instance.scroller.items;t<n.length;t++){var o=n[t].renders;e.push.apply(e,o)}e.slice(0,25).forEach(function(e){e.hideLine()})},t.prototype.setScattaBgLight=function(e,t){for(var n=this,o=5*(e+1),a=[],i=0,r=slot.SlotMachineView.instance.scroller.items;i<r.length;i++){var s=r[i].renders;a.push.apply(a,s)}var c=[],l=[];a.slice(0,o).forEach(function(e){10==e.data?1==t||3==t?c.push(e):e.removeScattaBgLight():l.push(e)});var p=0;if(c.length>1){3==t&&(slot.SoundMger.instance.playEffect("Scatter_Wait"),this.isScatterWait=!0);for(var u=function(e){e.addScattaBgLight(),1==t?setTimeout(function(){e.playScattaAni("fastspin_idle")},0):3==t&&e.playScattaAni("idle")},m=0,h=c;m<h.length;m++)u(h[m]);3==t&&(p=2e3,this.netBgAni2.node.active=!0,this.netBgAni2.play(),this.scatterTask.scrollerGroup.scatterblackBackGround&&(this.scatterTask.scrollerGroup.scatterblackBackGround.active=!0),this.scatterTask.scrollerGroup.layerSortScatterPlayContainer&&this.scatterTask.scrollerGroup.layerSortScatterPlayContainer.updateChangedChildsLayer(c,!0),this.scatterTask.scrollerGroup.layerSortScatterStopContainer&&this.scatterTask.scrollerGroup.layerSortScatterStopContainer.updateChangedChildsLayer(l,!0),setTimeout(function(){n.scatterTask.scrollerGroup.scatterblackBackGround&&(n.scatterTask.scrollerGroup.scatterblackBackGround.active=!1),n.scatterTask.scrollerGroup.layerSortScatterPlayContainer&&n.scatterTask.scrollerGroup.layerSortScatterPlayContainer.resetLayerSort(),n.scatterTask.scrollerGroup.layerSortScatterStopContainer&&n.scatterTask.scrollerGroup.layerSortScatterStopContainer.resetLayerSort()},p),setTimeout(function(){n.setScattaBgLight(4,4)},p+660))}return 4==t&&(this.netBgAni2.node.active=!1,this.netBgAni2.stop()),p},t.prototype.allGridShake=function(){core.CommonProto.getInstance().userinfo;for(var e=[],t=0,n=slot.SlotMachineView.instance.scroller.items;t<n.length;t++){var o=n[t].renders;e.push.apply(e,o)}return e.slice(0,25).forEach(function(e){for(var t=e.x,n=e.y,o=[],a=[],i=0;i<9;i++)o.push(2*Math.random()-2*Math.random());for(i=0;i<9;i++)a.push(2*Math.random()-2*Math.random());var r=cc.repeatForever(cc.sequence(cc.moveTo(.018,cc.v2(t+o[0],n+a[0])),cc.moveTo(.018,cc.v2(t+o[1],n+a[1])),cc.moveTo(.018,cc.v2(t+o[2],n+a[2])),cc.moveTo(.018,cc.v2(t+o[3],n+a[3])),cc.moveTo(.018,cc.v2(t+o[4],n+a[4])),cc.moveTo(.018,cc.v2(t+o[5],n+a[5])),cc.moveTo(.018,cc.v2(t+o[6],n+a[6])),cc.moveTo(.018,cc.v2(t+o[7],n+a[7])),cc.moveTo(.018,cc.v2(t+o[8],n+a[8]))));e.runAction(r),setTimeout(function(){e.stopAction(r),e.x=t,e.y=n},1e3)}),1e3},t.prototype.spinCompleteDeal=function(){for(var e=0,t=0,n=slot.SlotMachineView.instance.scroller.items;t<n.length;t++){var o=n[t].renders;o.slice(0,o.length).forEach(function(t){10==t.data&&e++,t.playWildScattaAni()})}e>2&&slot.SoundMger.instance.playEffect("Free_Start_Sound")},t.prototype.clickStopStart=function(e){this.clickStopPos=this.nodeClickStop.convertToNodeSpace(e.getLocation())},t.prototype.clickImmediatelyStop=function(){var e=this;this.aniClickImmediatelyStop.node.active=!0,this.aniClickImmediatelyStop.node.setPosition(this.clickStopPos),this.aniClickImmediatelyStop.stop(),this.aniClickImmediatelyStop.play(),this.aniClickImmediatelyStop.on("finished",function(){e.aniClickImmediatelyStop.node.active=!1,e.aniClickImmediatelyStop.stop()})},t.prototype.bigWinTextShow=function(e,t){t.scale=0,cc.tween(t).to(.4,{scale:1.2}).to(.1,{scale:.8}).to(.1,{scale:1}).start()},t.prototype.bigWinTextHide=function(e,t){cc.tween(t).to(.1,{scale:0}).start()},t.prototype.bigWinTextLastHide=function(e,t){for(var n=0,o=t.children;n<o.length;n++)o[n].active=!1},t.prototype._initSlotMachineView=function(){slot.EliminateEffectUtils.setup(1500,.12,.08,.1,.8,.1,slot.EliminateDisappearUtils.disappearTime,slot.EliminateDisappearUtils.disappreaDelayTime),this.slotMachine.spaceX=0,this.slotMachine.spaceY=0,this.slotMachine.gridWidth=148,this.slotMachine.gridHeight=124.4,this.slotMachine.afterRender(this,this._rederAfter),this.slotMachine.onItemRender(this,this._onSpinSlotRender),this._registerSlotMachineAnimation()},t.prototype._rederAfter=function(){slot.SpinManager.instance.spinTouchEnable=!0,this.initRenderState(),this.slotMachine.scroller.scrollerGroupMask.getComponent(cc.Mask).enabled=!1},t.prototype.initRenderState=function(){for(var e=slot.SlotMachineView._instance.scroller.renders.length,t=0;t<e;t++){var n=slot.SlotMachineView._instance.scroller.renders[t],o=n.data;9!=o&&10!=o||n.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle")}},t.prototype._registerSlotMachineAnimation=function(){this.slotMachine.onContinuousNotWinAnimation(this,this._playContinuousNotWinAnimation),this.slotMachine.onNormalRewardsAnimation(this,this._playNormalRewardsAnimation),this.slotMachine.onFullLineAnimation(this,this._playFullLineAnimation),this.slotMachine.onGreatRewardsAnimation(this,this._playGreatRewardsAnimation),this.slotMachine.onMiddleRewardsAnimation(this,this._playMiddleRewardsAnimation),this.slotMachine.onSmallRewardsAnimation(this,this._playSmallRewardsAnimation),this.slotMachine.onSpinStart(this,this._onSpinStart),this.slotMachine.onSpinBegin(this,this._onSpinBegin),this.slotMachine.onSpinStop(this,this._onSpinStop),this.slotMachine.onSpinComplete(this,this._onSpinComplete)},t.prototype._onSpinStart=function(){cc.log("dk"),this.unschedule(this._clearSpinReelAni),this._clearSpinReelAni()},t.prototype._onSpinBegin=function(){cc.log("_onSpinBegin"),n.isRestoreResp=!1,game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_STOP_WIN_NUM),this.multipleJumpNum=0,this.isScatterWait=!1,this.slotMachine.scroller.scrollerGroupMask.getComponent(cc.Mask).enabled=!0,game.EventManager.getInstance().raiseEvent(c.EventName.MULTIPLE_RECOVER),2==slot.SpinManager.instance.nowGameType&&this.isfreeAccelerate},t.prototype._onSpinStop=function(e){0<=e&&e<=4&&slot.SoundMger.instance.playEffect("Reel_Stop_0"+(e+1)),this.m_isRunning,this.m_isRunning=!1},t.prototype._onSpinComplete=function(){console.log("=========\u6eda\u8f74\u7ed3\u675f"),this.slotMachine.scroller.scrollerGroupMask.getComponent(cc.Mask).enabled=!1,slot.EliminateEffectUtils.delayDropTime=this.orgDelayDropTime;var e=Number(slot.SpinManager.instance.rollingResult.spinResult.spinCoin);e>0&&game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM,0,slot.SpinManager.instance.betCost,e),2==slot.SpinManager.instance.nowGameType&&(this.isfreeAccelerate=e>0),this.spinCompleteDeal()},t.prototype.specialAni=function(){slot.SlotMachineView._instance.scroller.renders.forEach(function(e){if(9===e.data||10===e.data){e.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn");var t=e.skinLoader.skeletonNode.getComponent(sp.Skeleton);t.setAnimation(0,"spawn",!1),t.setEndListener(function(){t.setAnimation(0,"idle",!0),t.setEndListener(null)})}})},t.prototype._clearSpinReelAni=function(){},t.prototype._playContinuousNotWinAnimation=function(e,t){t.run()},t.prototype._playNormalRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Normal,e,t,!slot.FreeGameManager.instance.isTreateFromFreeGame)},t.prototype._playFullLineAnimation=function(e,t){t.run()},t.prototype._playGreatRewardsAnimation=function(e,t){var n=slot.Handler.create(this,function(){t.run()});this.showWinAniView(slot.WinAniType.Great,e,n,!slot.FreeGameManager.instance.isTreateFromFreeGame)},t.prototype._playMiddleRewardsAnimation=function(e,t){var n=slot.Handler.create(this,function(){t.run()});this.showWinAniView(slot.WinAniType.Middle,e,n,!slot.FreeGameManager.instance.isTreateFromFreeGame)},t.prototype._playSmallRewardsAnimation=function(e,t){var n=slot.Handler.create(this,function(){t.run()});this.showWinAniView(slot.WinAniType.Small,e,n,!slot.FreeGameManager.instance.isTreateFromFreeGame)},t.prototype._onSpinSlotRender=function(){},t.prototype.addEventListener=function(){e.prototype.addEventListener.call(this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this)},t.prototype.removeEventListener=function(){e.prototype.removeEventListener.call(this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this)},t.prototype._onRollingResp=function(e,t){cc.log("_onRollingResp sj==============================>",t.updateList[0].value.handleState.game_10017.data.resultList),n.resultList=t.updateList[0].value.handleState.game_10017.data.resultList},t.prototype._onRestoreResp=function(e,t){if(cc.log("GameLayer111005001 _onRestoreResp resp = ",t),n.isRestoreResp=!0,t.state.state==slot.OperationState.Normal);else if(t.state.state==slot.OperationState.Free){var o=game.UIManager.getInstance().getUI(c.UIID.BONUS_GAME_POPUP);o&&o.getComponent(r.default).onClickBtnStart()}t&&t.state&&t.state.normalData&&t.state.normalData.handleState&&t.state.normalData.handleState.game_10017&&t.state.normalData.handleState.game_10017.data&&t.state.normalData.handleState.game_10017.data.resultList&&(n.resultList=t.state.normalData.handleState.game_10017.data.resultList)},t.prototype.OnEnterFreeGame=function(){var e,t,n;if(slot.FreeGameManager.instance.hasFreeGame){cc.log("OnEnterFreeGame"+slot.FreeGameInfo);var o,a=null===(n=null===(t=null===(e=slot.SpinManager.instance.customUpdateData)||void 0===e?void 0:e.game_10017)||void 0===t?void 0:t.data)||void 0===n?void 0:n.resultList;o=a&&0!=a.length?a[a.length-1].rate:1,this.multipleJumpNum=o-1,cc.log("OnEnterFreeGame rate=============>",o),game.EventManager.getInstance().raiseEvent(c.EventName.FREE_SET_DATA,o);var i=slot.FreeGameManager.instance.freeGameInfo.sumSpinCoin;game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,i,!0,!1)}game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_STOP),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_START)},t.prototype.updateLoginWin=function(e,t){var n,o,a,i;if(!this.isLoginSync){if(t&&game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM,0,slot.SpinManager.instance.betCost,t),!slot.FreeGameManager.instance.hasFreeGame){var r,s=null===(i=null===(a=null===(o=null===(n=slot.SpinManager.instance)||void 0===n?void 0:n.customUpdateData)||void 0===o?void 0:o.game_10017)||void 0===a?void 0:a.data)||void 0===i?void 0:i.resultList;r=s&&0!=s.length?s[s.length-1].rate:1,this.multipleJumpNum=r-1,cc.log("rate=============>",r),game.EventManager.getInstance().raiseEvent(c.EventName.FREE_SET_DATA,r)}this.isLoginSync=!0}},t.prototype.elemDropEnd=function(){this.isScatterWait?slot.SoundMger.instance.playEffect("Scatter_Wait_Drop",!1):slot.SoundMger.instance.playEffect("Drop_Symbol_0"+Math.ceil(8*Math.random()),!1)},t.prototype.onFreeGameStart=function(e,t){if(this.ordinaryBg.active=!1,this.freeBg.active=!0,this.rollerTouchLayer.active=!0,this.isfreeAccelerate=!0,this.multipleJumpNum=0,null!=t)if(n.isRestoreResp&&slot.FreeGameManager.instance.freeGameInfo){var o=slot.FreeGameManager.instance.freeGameInfo.times;this._updateFreeGameNum("",o,!1)}else this._updateFreeGameNum("",t,!1);game.EventManager.getInstance().raiseEvent(c.EventName.MULTIPLE_RECOVER)},t.prototype.FreeGameOver=function(){this.ordinaryBg.active=!0,this.freeBg.active=!1,this.rollerTouchLayer.active=!1},t.prototype._updateFreeGameNum=function(e,t,n){void 0===n&&(n=!0);var o=t<=0;this.spLbFreeRemainTime.active=!o,this.spLbFreeLastTime.active=o,this.lbFreeRemainTime.string=""+t,n&&(slot.SoundMger.instance.playEffect("Free_Reel_Spin"),cc.tween(this.lbFreeRemainTime.node).to(.2,{y:-20}).to(.2,{y:10}).to(.1,{y:-5}).to(.1,{y:2.5}).to(.1,{y:-1.25}).to(.1,{y:.625}).to(.1,{y:0}).start())},t.prototype.addFreeSpinsAni=function(e,t,n){console.log("\u89e6\u53d1\u514d\u8d39\u6e38\u620f\u5f00\u59cb\u5f39\u7a97--",t),this.scheduleOnce(function(){game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_FORCE_UPDATE_WINSCORE,0),game.UIManager.getInstance().open(c.UIID.BONUS_GAME_POPUP,[t,n,"free"]),slot.SoundMger.instance.stopMusic("Game_Back_Music"),slot.SoundMger.instance.playMusic("FreeGame_Back_Music",!0)},1)},t.prototype.onInitFreeGame=function(e,t){console.log("oniniffreegame",e);var n=slot.MainView.instance.node.getChildByName("scorePrefab");switch(n&&(n.y=-650),e.type){case slot.OperationState.Free:cc.log("\u65ad\u7ebf\u91cd\u8fde\u5f00\u59cb\u514d\u8d39\u6e38\u620f"),game.EventManager.getInstance().raiseEvent(c.EventName.FREE_GAME_START,e.sumTimes);var o=slot.MainView.instance.node.getChildByName("gameControPrefab");o.opacity=0,o.y=-1e3,slot.MainView.instance.node.getChildByName("menu").active=!1,slot.SpinManager.instance.isInTurbo=!1,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,1),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!1),slot.SoundMger.instance.stopMusic("Game_Back_Music"),slot.SoundMger.instance.playMusic("FreeGame_Back_Music",!0);break;case slot.OperationState.ReSpin:}t&&t.runWith(!0)},t.prototype.onFreeGameTriggered=function(e,t){console.log("onFreeGameTriggered",e);var n=slot.MainView.instance.node.getChildByName("scorePrefab");switch(n&&(n.y=-650),e.type){case slot.OperationState.Free:var o=slot.MainView.instance.node.getChildByName("gameControPrefab");o.opacity=0,o.y=-1e3,slot.MainView.instance.node.getChildByName("menu").active=!1,slot.SpinManager.instance.isInTurbo=!1,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,1),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!1),game.EventManager.getInstance().raiseEvent(c.EventName.FREE_GAME_START,e.sumTimes);break;case slot.OperationState.ReSpin:}game.EventManager.getInstance().raiseEvent(c.EventName.FREE_GAME_START_ANI),setTimeout(function(){t.runWith(!0)},2e3)},t.prototype.onFreeGameInfoUpdated=function(e){switch(console.log("onFreeGameInfoUpdated",e),e.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}},t.prototype.onFreeGameOver=function(e,t){switch(console.log("onFreeGameOver",e),game.EventManager.getInstance().raiseEvent(c.EventName.MULTIPLE_RECOVER),e.type){case slot.OperationState.Free:var n=slot.Handler.create(this,function(){game.EventManager.getInstance().raiseEvent(c.EventName.FREE_GAME_OVER),1==slot.GameControlBase.instance.fastBtnState?slot.SpinManager.instance.isInTurbo=!0:slot.SpinManager.instance.isInTurbo=!1,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,0),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!0)});setTimeout(function(){game.UIManager.getInstance().open(c.UIID.FREE_GAME_RESULT,[n,e.sumSpinCoin,e.sumTimes,t])},1500),setTimeout(function(){game.EventManager.getInstance().raiseEvent(c.EventName.FREE_GAME_OVER_UPDATE_BANNER_WINNUM,e.sumSpinCoin)},3500);break;case slot.OperationState.ReSpin:}},t.prototype.onFreeGameTriggerAgain=function(e,t){var n=this;switch(console.log("onFreeGameTriggerAgain",e),e.type){case slot.OperationState.Free:this.nodeFreeTriggerFree.active=!0,this.nodeFreeTriggerFree.getChildByName("lb_time").getComponent(p.default).string=e.times.toString(),setTimeout(function(){n.nodeFreeTriggerFree.active=!1,t.run()},1500);break;case slot.OperationState.ReSpin:}},t.prototype.onFreeGameTimesUpdated=function(e){cc.tween(this.node).delay(.2).call(function(){game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_FREE_GAME_NUM,e)}).start()},t.prototype.onBonusGameTriggered=function(e,t){slot.Handler.create(this,function(){}),t.runWith(!0)},t.prototype.onBonusGameOver=function(e,t){t.runWith(!0)},t.prototype.showBounsGamePrefab=function(e,t){this.bounsGamePrefabNode=cc.instantiate(this.bounsGamePrefab);var n=cc.Canvas.instance.node;this.bounsGamePrefabNode.getComponent(cc.Widget).target=n,n.addChild(this.bounsGamePrefabNode,slot.LayerManage.effect),this.bounsGamePrefabNode.getComponent(r.default).onOpen(e,t)},t.prototype.hideBounsGamePrefab=function(){this.bounsGamePrefabNode&&(this.bounsGamePrefabNode.active=!1,cc.Canvas.instance.node.removeChild(this.bounsGamePrefabNode))},t.prototype.showFreeGameResultPrefab=function(e,t,n,o){this.freeGameResultNode=cc.instantiate(this.freeGameResultPrefab);var a=cc.Canvas.instance.node;this.freeGameResultNode.getComponent(cc.Widget).target=a,a.addChild(this.freeGameResultNode,slot.LayerManage.effect),this.freeGameResultNode.getComponent(s.default).onOpen(e,t,n,o)},t.prototype.hideFreeGameResultPrefab=function(){this.freeGameResultNode&&(this.freeGameResultNode.active=!1,cc.Canvas.instance.node.removeChild(this.freeGameResultNode))},t.t=null,t.isRestoreResp=!1,t.resultList={},i([f(cc.Prefab)],t.prototype,"goldFramePrefab",void 0),i([f(cc.Node)],t.prototype,"ordinaryBg",void 0),i([f(cc.Node)],t.prototype,"freeBg",void 0),i([f(cc.Animation)],t.prototype,"netBgAni2",void 0),i([f(cc.Node)],t.prototype,"spLbFreeRemainTime",void 0),i([f(p.default)],t.prototype,"lbFreeRemainTime",void 0),i([f(cc.Node)],t.prototype,"spLbFreeLastTime",void 0),i([f(cc.Node)],t.prototype,"nodeFreeTriggerFree",void 0),i([f(cc.Animation)],t.prototype,"aniClickImmediatelyStop",void 0),i([f(cc.Node)],t.prototype,"nodeClickStop",void 0),i([f(cc.Node)],t.prototype,"rollerTouchLayer",void 0),i([f({type:cc.Prefab,tooltip:"\u5c0f\u6e38\u620f\u8fc7\u573a\u52a8\u753b"})],t.prototype,"bounsGamePrefab",void 0),i([f({type:cc.Prefab,tooltip:"\u514d\u8d39\u6e38\u620f\u7ed3\u7b97\u9884\u5236"})],t.prototype,"freeGameResultPrefab",void 0),n=i([_],t)}(slot.AbstractMainView);n.default=E,cc._RF.pop()},{"../GameEventName111005001":"GameEventName111005001","../JTScattask111005001":"JTScattask111005001","../bonusGame/BonusGame111005001":"BonusGame111005001","../freeGameResult/FreeGameResult":"FreeGameResult","../main/CommonNumAtlas111005001":"CommonNumAtlas111005001","./scrollerSkins/JTChildManager111005001":"JTChildManager111005001","./scrollerSkins/JTLayerManager111005001":"JTLayerManager111005001","./scrollerSkins/JTLogicFactroy111005001":"JTLogicFactroy111005001"}],GameRoller111005001:[function(e,t,n){"use strict";cc._RF.push(t,"abb6bi47QpMaoarOAE3uHhF","GameRoller111005001");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111005001"),s=e("../main/CommonNumAtlas111005001"),c=e("./GameLayer111005001"),l=cc._decorator,p=l.ccclass,u=l.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeWinScore=null,t.layoutWinScore=null,t.spLbWinTotal=null,t.spLbWin=null,t.lbWinNum=null,t.ibBarNode=null,t.ibBarMaskNode=null,t.skeInfoabar=null,t.normalMultiple=null,t.freeMultiple=null,t.normalMtpBackArr=[],t.freeMtpBackArr=[],t.nodeMoneyAddStop=null,t.curMtpBackArr=[],t.twAddMoney=null,t.nAddMoney=0,t.triggerBigPrize=!1,t.countNumTmp=0,t.betCostTmp=0,t}return a(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(r.EventName.EVENT_PLAY_WIN_NUM,this._updateWinNum,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_STOP_WIN_NUM,this._stopWinNum,this),game.EventManager.getInstance().addEventListener(r.EventName.MULTIPLE_JUMP,this._onMultipleJump,this),game.EventManager.getInstance().addEventListener(r.EventName.MULTIPLE_RECOVER,this._multipleRecover,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_START,this.onFreeGameStart,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_START_ANI,this.freeGameStartAni,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_OVER,this.FreeGameOver,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_SET_DATA,this._setFreeData,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this._bigWinAniEnd,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_OVER_UPDATE_BANNER_WINNUM,this._freeGameOverUpdateBannerWinNum,this),this.curMtpBackArr=this.normalMtpBackArr},t.prototype.onFreeGameStart=function(){this.curMtpBackArr=this.freeMtpBackArr,c.default.isRestoreResp&&(this.normalMultiple.active=!1,this.freeMultiple.active=!0,this.freeMultiple.getChildByName("bns_bg_glow").active=!0)},t.prototype.FreeGameOver=function(){this.curMtpBackArr=this.normalMtpBackArr,this.normalMultiple.active=!0,this.freeMultiple.active=!1},t.prototype.freeGameStartAni=function(){var e=this,t=function(t,n){var o=e.freeMtpBackArr[t],a=o.getChildByName("ani_fire"),i=o.getChildByName("beishuparticle"),r=o.getChildByName("ui_mtp_back"),s=o.getChildByName("ani_boom").getComponent(cc.Animation),c=o.getChildByName("ani_boom_lizi").getComponent(cc.Animation),l=o.getChildByName("ui_mtp_glow"),p=o.getChildByName("mtp_blue"),u=o.getChildByName("mtp_light");1==n?(a.active=!1,i.active=!1,r.active=!1,s.node.active=!1,c.node.active=!1,l.active=!1,p.active=!1,u.active=!1):2==n?(s.node.active=!0,c.node.active=!0,p.active=!0,cc.tween(p).to(.25,{scale:2}).to(.15,{scale:1}).start(),s.play(),c.play(),setTimeout(function(){a.active=!1,i.active=!0,r.active=!0,s.node.active=!0,c.node.active=!0,l.active=!1,p.active=!0,u.active=!1,e.normalMtpBackArr[t].active=!1},250)):3==n&&(a.active=!0,i.active=!0,r.active=!0,s.node.active=!0,c.node.active=!0,l.active=!0,p.active=!1,u.active=!0)};this.freeMultiple.active=!0,this.freeMultiple.getChildByName("bns_bg_glow").active=!1;for(var n=0;n<this.freeMtpBackArr.length;n++)t(n,1);setTimeout(function(){slot.SoundMger.instance.playEffect("Free_Multipler_01"),slot.SoundMger.instance.playEffect("Free_Multipler_02")},250);var o=0;cc.tween(this).delay(.25).call(function(){t(o,2),o++}).union().repeat(4).delay(.5).call(function(){t(0,3),e.freeMultiple.getChildByName("bns_bg_glow").active=!0,e.normalMultiple.active=!1;for(var n=0;n<e.normalMtpBackArr.length;n++)e.normalMtpBackArr[n].active=!0}).start()},t.prototype._onMultipleJump=function(e,t){cc.log("eliminateNum======>",t);var n=t-1;cc.log("eliminateNum======> index",n),this._multipleItemOpt(n,2)},t.prototype._multipleItemOpt=function(e,t,n){var o=this;void 0===n&&(n=!0),e>=4&&(e=3);var a=this.curMtpBackArr[e],i=a.getChildByName("ani_fire"),r=a.getChildByName("ui_mtp_glow"),s=a.getChildByName("mtp_blue"),c=a.getChildByName("mtp_light"),l=a.getChildByName("ani_boom").getComponent(cc.Animation),p=a.getChildByName("ani_boom_lizi").getComponent(cc.Animation);0==t?(i.active=!1,r.active=!1,s.active=!0,c.active=!1):1==t?(i.active=!0,r.active=!0,s.active=!1,c.active=!0,n&&(1==e?slot.SoundMger.instance.playEffect("MultiplierX2"):2==e?slot.SoundMger.instance.playEffect("MultiplierX3"):3==e&&slot.SoundMger.instance.playEffect("MultiplierX5"))):2==t&&(cc.tween(c).to(.3,{scale:2}).to(.2,{scale:1}).start(),l.play(),p.play(),l.on("finished",function(){l.off("finished"),setTimeout(function(){e<3?(o._multipleItemOpt(e,0),o._multipleItemOpt(e+1,1)):o._multipleItemOpt(e,1,!1)},500)}))},t.prototype._multipleRecover=function(){this._multipleItemOpt(0,1),this._multipleItemOpt(1,0),this._multipleItemOpt(2,0),this._multipleItemOpt(3,0)},t.prototype._setFreeData=function(e,t){var n=t-1;cc.log("multiple==================>",n),n<0?n=0:n>=4&&(n=3),this._multipleItemOpt(n,1)},t.prototype.showBannerAni=function(e,t,n,o){var a=this;void 0===n&&(n=!1),void 0===o&&(o=!1);var i=function(e,t,n){a.ibBarNode.getChildByName("ib_bar_"+e).active=t,a.ibBarMaskNode.getChildByName("ib_bar_"+e+"_mask_l").active=t,a.ibBarMaskNode.getChildByName("ib_bar_"+e+"_mask_r").active=t,n&&n.length>0&&(a.skeInfoabar.node.active=!0,a.skeInfoabar.setAnimation(0,n,!1),a.skeInfoabar.setCompleteListener(function(){a.skeInfoabar.node.active=!1}))};!n&&o&&(e>=20*t||this.ibBarNode.getChildByName("ib_bar_c").active)?(i("a",!1),i("b",!1),i("c",!0,"infobar_red")):!n&&(e>=5*t||this.ibBarNode.getChildByName("ib_bar_b").active)?(i("a",!1),i("b",!0,"infobar_purple"),i("c",!1)):(i("a",!0,n?"":"infobar_blue"),i("b",!1),i("c",!1))},t.prototype._stopWinNum=function(){this.nodeWinScore.active=!1,this.showBannerAni(0,1,!0)},t.prototype.event_stop_slot_machine_immediately=function(){},t.prototype._updateWinNum=function(e,t,n,o,a){(t&&t>0||o&&o>0)&&(this.nodeWinScore.active=!0,this.spLbWin.active=!0,this.spLbWinTotal.active=!1,this.lbWinNum.active=!0,t>0?this._playOneWinNum(t,n,a):(o>0||c.default.isRestoreResp)&&this._playTotalWinNum(o,n,a))},t.prototype._playOneWinNum=function(e,t,n,o){this.lbWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(e),this._onScaleWin(),o&&o(),this.showBannerAni(e,t)},t.prototype._playTotalWinNum=function(e,t,n,o){var a=this;return cc.log((e/100).toFixed(2)),e>=20*t&&!c.default.isRestoreResp&&!o?(this.triggerBigPrize=!0,this.countNumTmp=e,void(this.betCostTmp=t)):(this.spLbWinTotal.active=!0,this.spLbWin.active=!1,this.lbWinNum.active=!0,c.default.isRestoreResp?(this.lbWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(e),this.showBannerAni(e,t,!1,!0),void cc.tween(this.lbWinNum).delay(1).call(function(){n&&n()}).start()):(5*t<=e&&e<20*t?(slot.SoundMger.instance.playEffect("Prize_Settlement03"),this.totalWinMoney=0,this.nodeMoneyAddStop.active=!0,this.nAddMoney=e,this.twAddMoney=cc.tween(this).to(2,{totalWinMoney:e}).call(function(){return a.moneyAddStopFunc()}).start()):(e<5*t?slot.SoundMger.instance.playEffect("Prize_Settlement01"):e>=20*t&&slot.SoundMger.instance.playEffect("Prize_Settlement02"),this.lbWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(e),this._onScaleWin(),this.showBannerAni(e,t,!1,o)),void cc.tween(this.lbWinNum).delay(1).call(function(){n&&n()}).start()))},t.prototype.moneyAddStopFunc=function(){this.nodeMoneyAddStop.active=!1,this.twAddMoney.stop(),this.totalWinMoney=this.nAddMoney,this._onScaleWin(),this.showBannerAni(this.nAddMoney,slot.SpinManager.instance.betCost)},t.prototype._bigWinAniEnd=function(){this.triggerBigPrize&&(this._playTotalWinNum(this.countNumTmp,this.betCostTmp,null,!0),this.triggerBigPrize=!1,this.countNumTmp=0,this.betCostTmp=0)},t.prototype._freeGameOverUpdateBannerWinNum=function(e,t){this.nodeWinScore.active=!0,game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_PLAY_WIN_NUM),this.spLbWinTotal.active=!0,this.spLbWin.active=!1,this.lbWinNum.active=!0,this.lbWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(t),this.showBannerAni(t,slot.SpinManager.instance.betCost,!1,!0)},t.prototype._onScaleWin=function(){this.layoutWinScore.scale=0,cc.tween(this.layoutWinScore).to(.3,{scale:1.35}).to(.2,{scale:1}).start()},Object.defineProperty(t.prototype,"totalWinMoney",{get:function(){return this._totalWinMoney},set:function(e){this._totalWinMoney=e,this.lbWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(e)},enumerable:!1,configurable:!0}),t.prototype.start=function(){},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_PLAY_WIN_NUM,this._updateWinNum,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_STOP_WIN_NUM,this._stopWinNum,this),game.EventManager.getInstance().removeEventListener(r.EventName.MULTIPLE_JUMP,this._onMultipleJump,this),game.EventManager.getInstance().removeEventListener(r.EventName.MULTIPLE_RECOVER,this._multipleRecover,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_START,this.onFreeGameStart,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_START_ANI,this.freeGameStartAni,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_OVER,this.FreeGameOver,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_SET_DATA,this._setFreeData,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this._bigWinAniEnd,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_OVER_UPDATE_BANNER_WINNUM,this._freeGameOverUpdateBannerWinNum,this)},i([u(cc.Node)],t.prototype,"nodeWinScore",void 0),i([u(cc.Node)],t.prototype,"layoutWinScore",void 0),i([u(cc.Node)],t.prototype,"spLbWinTotal",void 0),i([u(cc.Node)],t.prototype,"spLbWin",void 0),i([u(cc.Node)],t.prototype,"lbWinNum",void 0),i([u(cc.Node)],t.prototype,"ibBarNode",void 0),i([u(cc.Node)],t.prototype,"ibBarMaskNode",void 0),i([u(sp.Skeleton)],t.prototype,"skeInfoabar",void 0),i([u(cc.Node)],t.prototype,"normalMultiple",void 0),i([u(cc.Node)],t.prototype,"freeMultiple",void 0),i([u({type:[cc.Node]})],t.prototype,"normalMtpBackArr",void 0),i([u({type:[cc.Node]})],t.prototype,"freeMtpBackArr",void 0),i([u(cc.Node)],t.prototype,"nodeMoneyAddStop",void 0),i([p],t)}(slot.BaseView);n.default=m,cc._RF.pop()},{"../GameEventName111005001":"GameEventName111005001","../main/CommonNumAtlas111005001":"CommonNumAtlas111005001","./GameLayer111005001":"GameLayer111005001"}],JTAfterRewardTask111005001:[function(e,t,n){"use strict";cc._RF.push(t,"888b4pxgohFVqgE+3db1uQ1","JTAfterRewardTask111005001");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return e.call(this)||this}return a(t,e),t.prototype.runningTask=function(){var e=this;if(slot.SpinManager.instance.rollingResult&&slot.SpinManager.instance.rollingResult.spinResult){var t=Number(slot.SpinManager.instance.rollingResult.spinResult.spinCoin),n=slot.SpinManager.instance.betCost;if(console.log("JTAfterRewardTask111005001 spinCoin = "+t+" , betCost = "+n+" , nowGameType = "+slot.SpinManager.instance.nowGameType),0==Number(slot.SpinManager.instance.rollingResult.spinResult.spinCoin))this.playComplete();else{setTimeout(function(){return e.playComplete()},5*n<=t&&t<20*n?4e3:1e3)}}else console.log("JTAfterRewardTask111005001 data error"),this.playComplete()},t.prototype.clear=function(){e.prototype.clear.call(this)},t.prototype.playComplete=function(){console.log("\u6d41\u7a0b\uff1aJTAfterRewardTask111005001\u5b8c\u6210"),this.complete()},i([s],t)}(slot.JTParseTask));n.default=c,cc._RF.pop()},{}],JTChildManager111005001:[function(e,t,n){"use strict";cc._RF.push(t,"5719b+lJVtDfYSZeMtE0kix","JTChildManager111005001");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=e("../SpinSlotViewExtend111005001"),r=function(e){function t(){return e.call(this)||this}return a(t,e),t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTChildFactory.SCROLLER_TYPE,slot.JTScroller),this.registerClass(slot.JTChildFactory.ITEMRENDER_TYPE,i.default),this.registerClass(slot.JTChildFactory.GIRD_TYPE,slot.JTSkinnableGridRender),this.registerClass(slot.JTChildFactory.SCATTER_TYPE,slot.JTScatterGridRender),this.registerClass(slot.JTChildFactory.LINE_TYPE,slot.JTSkinnableRuntimeLineAnimationRender),this},t.prototype.changedLine=function(t,n){e.prototype.changedLine.call(this,t,n)},t}(slot.JTChildFactory);n.default=r,cc._RF.pop()},{"../SpinSlotViewExtend111005001":"SpinSlotViewExtend111005001"}],JTLayerManager111005001:[function(e,t,n){"use strict";cc._RF.push(t,"aa69cmSY1FEmpzsFRlItGKh","JTLayerManager111005001");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){function t(){return e.call(this)||this}return a(t,e),t.prototype.initialize=function(e){this.addChildNode(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,e);var t=this.addChildNode(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,e);this.addChildNode(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,e);var n=this.addChildNode(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,e);this.addChildNode(slot.JTLayerFactory.SCROLLER_CONTAINER,n),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,e);var o=this.addChildNode(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,e);this.addChildNode(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,e),this.addChildNode(slot.JTLayerFactory.LINE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,e),n.launch(e),o.setup(e.config.getWidth(),e.config.getHeight(),160),t.setup(e.config.getWidth(),e.config.getHeight(),160)},t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.GIRD_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,slot.JTScrollerGroupMask),this.registerClass(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCATTER_GRID_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,slot.JTGComponent),this},t.FRAME_IMAGE_CONTAINER=999,t}(slot.JTLayerFactory);n.default=i,cc._RF.pop()},{}],JTLogicFactroy111005001:[function(e,t,n){"use strict";cc._RF.push(t,"75e2fG+0FNOLKQY2BuBfFw3","JTLogicFactroy111005001");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./JTAfterRewardTask111005001"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return e.call(this)||this}return a(t,e),t.prototype.adjustFlowOptions=function(){this.childOption(r.default,slot.JTTaskPriority.JTAFTER_REWARD_TASK+1)},i([c],t)}(slot.JTLogicFactroy));n.default=l,cc._RF.pop()},{"./JTAfterRewardTask111005001":"JTAfterRewardTask111005001"}],JTScattask111005001:[function(e,t,n){"use strict";cc._RF.push(t,"2fd4fo/i0ZJeI93YzqLqsuw","JTScattask111005001");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.start=function(){},i([s],t)}(slot.JTScatterTask));n.default=c,cc._RF.pop()},{}],LanguageInfo111005001:[function(e,t,n){"use strict";cc._RF.push(t,"a7534kriytEJZ/5P6CpM60F","LanguageInfo111005001");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},i([s],t)}(slot.LanguageInfoBase));n.default=c,cc._RF.pop()},{}],Main111005001:[function(e,t,n){"use strict";cc._RF.push(t,"57d00zdnbpIl73C/PZZzTrK","Main111005001");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111005001"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),game.BaseUIConf.getInstance().mergeUIConf(r.UICF);var t=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(t)},i([c],t)}(slot.MainView));n.default=l,cc._RF.pop()},{"../GameEventName111005001":"GameEventName111005001"}],SpinSlotViewExtend111005001:[function(e,t,n){"use strict";cc._RF.push(t,"32be0vc0edONqUu4Uh58X3x","SpinSlotViewExtend111005001");var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=e("./GameLayer111005001"),r=function(e){function t(){var t=e.call(this)||this;return t.itemLinePrefab=null,t.ITEM_LINE_NODE="ITEM_LINE_NODE",t.SCATTA_BG_LIGHT_BACK="SCATTA_BG_LIGHT_BACK",t.SCATTA_BG_LIGHT_FRONT="SCATTA_BG_LIGHT_FRONT",t.scattaBgLightShow=!1,t._slotFrameAniView=null,t._slotFrameAniView1=null,t._slotFrameAniViewSign="___SLOT_FRAME_ANI_VIEW_SIGN",t.t=null,t.eliminateNum=1,t.isBlur=!0,t.isFade=!0,t.isFadeMask=!1,t.skinLoader.skeletonNode.scale=1,game.ResLoader.getInstance().loadRes("prefabs/slotMachine/itemLine",cc.Prefab,function(e,n){e?console.log("\u52a0\u8f7d\u7ebf\u6761\u52a8\u753b\u6846\u5931\u8d25"):(console.log("\u52a0\u8f7d\u7ebf\u6761\u52a8\u753b\u6846\u6210\u529f"),t.itemLinePrefab=n)},slot.GData.bundleName),t}return a(t,e),t.prototype.onPlayAnimation=function(e,t,n,o){if(10==this.data){this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win");var a=this.skinLoader.skeletonNode.getComponent(sp.Skeleton);a.setAnimation(0,"win",!1),a.setEndListener(function(){a.setAnimation(0,"win_idle",!0),a.setEndListener(null)})}else this._showFrameAniView(o,n),this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win")},t.prototype.onStopAnimation=function(){this._recoverSlotFrameAniView()},t.prototype.onPlayRewardsAnimation=function(){},t.prototype.onStopRewardsAnimation=function(){t._rewardsView&&t._rewardsView.removeFromParent()},t.prototype.reset=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.prototype.reset.call(this),this.removeScattaBgLight(),this.hideLine()},t.prototype._getRewardsAnimation=function(){},t.prototype.addEffectElement=function(){this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win")},t.prototype._showFrameAniView=function(e,t){var n=this;cc.log(this.index,t);var o="animation";if(this.data>10&&(o="animation_wild"),this._slotFrameAniView){var a=this._slotFrameAniView.addComponent(slot.AnimationExtend),i=new slot.AniParam(slot.ANIMATION_TYPE.SKELETON,"skeleton/symbol_disappear/win",slot.GData.bundleName,o,null);i.premultipliedAlpha=!0,a.init(i);var r=slot.Handler.create(this,function(){n._recoverSlotFrameAniView()});a.play(o,!1,r)}else this._slotFrameAniView=this._getSlotFrameAniView(o);this._slotFrameAniView.active=!0,e.addEffect(this._slotFrameAniView,t,!1);var s=e.getPosByIndex(t);this._slotFrameAniView.y=s.y},t.prototype._showFrameAniView1=function(e,t){this._slotFrameAniView1||(this._slotFrameAniView1=this._getSlotFrameAniView1()),e.addEffect(this._slotFrameAniView1,t,!0);var n=e.getPosByIndex(t);this._slotFrameAniView1.y=n.y},t.prototype._getSlotFrameAniView=function(e){var t=this;if(this._slotFrameAniView)return this._slotFrameAniView;this._slotFrameAniView=new cc.Node;var n=this._slotFrameAniView.addComponent(slot.AnimationExtend),o=new slot.AniParam(slot.ANIMATION_TYPE.SKELETON,"skeleton/symbol_disappear/win",slot.GData.bundleName,e,null);o.premultipliedAlpha=!0,n.init(o);var a=slot.Handler.create(this,function(){t._recoverSlotFrameAniView()});return n.play(e,!1,a),this._slotFrameAniView},t.prototype._getSlotFrameAniView1=function(){var e=this;if(this._slotFrameAniView1)return this._slotFrameAniView1;this._slotFrameAniView1=new cc.Node,this._slotFrameAniView1.addComponent(cc.Sprite),this._slotFrameAniView1.getComponent(cc.Sprite).dstBlendFactor=cc.macro.ONE;var t=this._slotFrameAniView1.addComponent(slot.AnimationExtend),n=new slot.AniParam(slot.ANIMATION_TYPE.SPRITE_FRAMES_CLIP,"textures/goldToWild/bianbaidatexiao",slot.GData.bundleName,"animation");t.init(n),this._slotFrameAniView1.getComponent(cc.Sprite).dstBlendFactor=cc.macro.BlendFactor.ONE;var o=slot.Handler.create(this,function(){e._recoverSlotFrameAniView1()});return t.play("animation",!1,o),this._slotFrameAniView1},t.prototype._recoverSlotFrameAniView=function(){this._slotFrameAniView&&(this._slotFrameAniView.removeFromParent(),this._slotFrameAniView.active=!1)},t.prototype._recoverSlotFrameAniView1=function(){this._slotFrameAniView1&&(this._slotFrameAniView1.removeFromParent(),this._slotFrameAniView1.active=!1,this._slotFrameAniView1=null)},t.prototype.showLine=function(e){for(var t=this.data>10?this.data-10:this.data,n=[],o=0;o<e.length;o++){var a=e[o][1]>10?e[o][1]-10:e[o][1];9!=t&&9!=a&&t!=a||n.push(e[o][0])}var i=this.belowLoader.getChildByName(this.ITEM_LINE_NODE);i?i.active=!0:(i=cc.instantiate(this.itemLinePrefab),this.belowLoader.addChild(i,1,this.ITEM_LINE_NODE));var r=this.index,s=r+5,c=r-5,l=r-1,p=r+1,u=[0,0,0,0];n.includes(l)&&(u[0]=r%5==0?0:1),n.includes(p)&&(u[1]=r%5==4?0:1),n.includes(c)&&(u[2]=1),n.includes(s)&&(u[3]=1);var m=i.getChildByName("line_t_l"),h=i.getChildByName("line_t_r"),d=i.getChildByName("line_d_l"),_=i.getChildByName("line_d_r"),f=i.getChildByName("line_l_t"),E=i.getChildByName("line_l_d"),y=i.getChildByName("line_r_t"),g=i.getChildByName("line_r_d"),v=i.getChildByName("corner_l_t"),N=i.getChildByName("corner_l_d"),T=i.getChildByName("corner_r_t"),S=i.getChildByName("corner_r_d");m.active=!1,h.active=!1,d.active=!1,_.active=!1,f.active=!1,E.active=!1,y.active=!1,g.active=!1,v.active=!1,N.active=!1,T.active=!1,S.active=!1,0==u[0]&&0==u[2]?v.active=!0:1==u[0]&&0==u[2]?f.active=!0:0==u[0]&&1==u[2]&&(m.active=!0),0==u[1]&&0==u[2]?N.active=!0:1==u[1]&&0==u[2]?E.active=!0:0==u[1]&&1==u[2]&&(d.active=!0),0==u[0]&&0==u[3]?T.active=!0:1==u[0]&&0==u[3]?y.active=!0:0==u[0]&&1==u[3]&&(h.active=!0),0==u[1]&&0==u[3]?S.active=!0:1==u[1]&&0==u[3]?g.active=!0:0==u[1]&&1==u[3]&&(_.active=!0)},t.prototype.hideLine=function(){var e=this.belowLoader.getChildByName(this.ITEM_LINE_NODE);e&&(e.active=!1)},t.prototype.addScattaBgLight=function(){if(!this.scattaBgLightShow){this.scattaBgLightShow=!0;var e=function(e,t){var n=new cc.Node,o=n.addComponent(slot.AnimationExtend),a=new slot.AniParam(slot.ANIMATION_TYPE.SKELETON,"skeleton/duobaogx/duobaogx",slot.GData.bundleName,e,null);return a.premultipliedAlpha=!0,o.init(a),o.play(e,t),n.setScale(.88),n},t=e("animation_back",!0);this.belowLoader.addChild(t,1,this.SCATTA_BG_LIGHT_BACK);var n=e("animation_front",!1);this.aboveLoader.addChild(n,1,this.SCATTA_BG_LIGHT_FRONT)}},t.prototype.removeScattaBgLight=function(){if(this.scattaBgLightShow){this.scattaBgLightShow=!1;var e=this.belowLoader.getChildByName(this.SCATTA_BG_LIGHT_BACK);e&&e.removeFromParent();var t=this.aboveLoader.getChildByName(this.SCATTA_BG_LIGHT_FRONT);t&&t.removeFromParent()}},t.prototype.gotoAndStop=function(t){e.prototype.gotoAndStop.call(this,t),this.t||(this.t=cc.instantiate(i.default.t)),this._addGoldFramePrefab(this.t),this.data>10?this.t.active=!0:this.t.active=!1},t.prototype._addGoldFramePrefab=function(e){e&&!e.parent&&(this.addEffectNode(e,!1),this.t.active=!1)},t.prototype.onRollEnde=function(e){this.eliminateNum=e},t.prototype.onGoldToWild=function(){if(this.eliminateNum)for(var e=i.default.resultList[this.eliminateNum].changeSpecialElemGrid,t=0;t<e.length;t++)if(this.index==e[t].pos-1)return void this._setPicture()},t.prototype.playChangeToWild=function(){this._setPicture(),slot.SoundMger.instance.playEffect("Wild_Sound",!1)},t.prototype._setPicture=function(){var e=this;this._showFrameAniView(slot.SlotMachineView.instance,this.index),cc.tween(this).delay(.2).call(function(){e.t.active=!1,cc.tween(e).delay(.2).call(function(){e._showFrameAniView1(slot.SlotMachineView.instance,e.index),e.setIcon("s_wild",slot.SpinSlotAniType.Ani,"win",!0),e.data=9,e.playWildScattaAni()}).start()}).start()},t.prototype.playScattaAni=function(e){10===this.data&&(this.setAnimation(slot.JTGLoaderAssetType.Skeleton,e),this.skinLoader.skeletonNode.getComponent(sp.Skeleton).setAnimation(0,e,!0))},t.prototype.playWildScattaAni=function(){9!==this.data&&10!==this.data||(this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle"),this.skinLoader.skeletonNode.getComponent(sp.Skeleton).setAnimation(0,"idle",!0))},t.prototype.onRollEnd=function(){if(9===this.data||10===this.data){this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn");var e=this.skinLoader.skeletonNode.getComponent(sp.Skeleton);e.setAnimation(0,"spawn",!1),e.setEndListener(function(){e.setAnimation(0,"idle",!0),e.setEndListener(null)}),10==this.data&&slot.SoundMger.instance.playEffect("Scatter_Drop",!1)}},t._rewardsView=null,t}(slot.SpinSlotView);n.default=r,cc._RF.pop()},{"./GameLayer111005001":"GameLayer111005001"}]},{},["Banner111005001","GameEventName111005001","JTScattask111005001","BonusGame111005001","FreeGameResult","GameBg111005001","CommonNumAtlas111005001","LanguageInfo111005001","Main111005001","GameLayer111005001","GameRoller111005001","SpinSlotViewExtend111005001","JTAfterRewardTask111005001","JTChildManager111005001","JTLayerManager111005001","JTLogicFactroy111005001"]);